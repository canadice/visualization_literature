ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art", caption = "Källa: Fisher, R. A. (1936)")
# Chunk 7
require(ggplot2)
# Chunk 8
exempeldata <- read.csv2(file = "732G45_exempeldata.csv")
head(exempeldata, n = 5)
# Chunk 9
theme_set(theme_gray())
# Chunk 10
ggplot(exempeldata)
# Chunk 11
ggplot(exempeldata) + aes(x = bil)
# Chunk 12
ggplot(exempeldata) + aes(x = bil) + geom_bar()
# Chunk 13
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count))))
# Chunk 14
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 15
p <- ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 16
p
# Chunk 17
p + coord_flip()
# Chunk 18
p + scale_y_continuous(labels = scales::percent)
# Chunk 19
p <- p + scale_y_continuous(labels = scales::percent)
p
# Chunk 20
exempeltabell <- as.data.frame(table(exempeldata$bil))
colnames(exempeltabell) <- c("Märke", "Frekvens")
kable(exempeltabell, format = "html", caption = "Fördelning av bilmärken i urvalet") %>%
kable_styling(position = "center", full_width = FALSE)
# Chunk 21
head(exempeltabell)
# Chunk 22
ggplot(exempeltabell) + aes(x = Märke, y = Frekvens) + geom_bar(stat = "identity") + theme_bw()
# Chunk 23
p <- ggplot(exempeldata) + aes(x = bil) +
geom_bar(fill = "dark orange",
color = "black",
aes(y = stat(count/sum(count)))) +
theme_bw()
p
# Chunk 24
p <- p + theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"))
p
# Chunk 25
p <- p + labs(x = "Bilmärke", y = "Andel", caption = "Källa: Hietala (2019)")
p
# Chunk 26
p + scale_y_continuous(labels = scales::percent) + labs(y = "")
# Chunk 27
p <- p + theme(axis.title.y = element_text(angle = 0, vjust = 0.5),
plot.caption = element_text(face = "italic"))
p
# Chunk 28
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10))
# Chunk 29
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.35))
# Chunk 30
p <- p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.25),
expand = c(0,0))
p
ggplot(exempeldata) + aes(x = civilstand, fill = bil) + geom_bar(position = "dodge")
ggplot(exempeldata) + aes(x = civilstand, fill = bil) + geom_bar(position = "dodge") + theme_bw()
ggplot(exempeldata) +
aes(x = civilstand, fill = bil) +
geom_bar(position = "dodge") +
theme_bw()
theme_bw()
ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))), position = "dodge") +
theme_bw()
p1 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))), position = "dodge") +
theme_bw()
p2 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/tapply(count, x, sum)[x])), position = "dodge") +
theme_bw()
grid.arrange(p1, p2, nrow = 1)
p <- ggplot(exempeldata) +
aes(x = civilstand,
fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge") +
theme_bw() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"),
axis.title.y = element_text(angle = 0, vjust = 0.5),
plot.caption = element_text(face = "italic")) +
labs(x = "Civilstånd",
y = "Andel",
caption = "Källa: Hietala (2019)") +
scale_y_continuous(expand = c(0,0),
limits = c(0, 0.2))
p
require(RColorBrewer)
brewer.pal()
RColorBrewer::display.brewer.all()
p <- p + scale_fill_manual(name = "Bilmärke",
values = brewer.pal(n = length(unique(exempeldata$bil)),
name = "Oranges"))
p
p <- ggplot(exempeldata) +
aes(x = civilstand,
fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge",
color = "black") +
theme_bw() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"),
axis.title.y = element_text(angle = 0, vjust = 0.5),
plot.caption = element_text(face = "italic")) +
labs(x = "Civilstånd",
y = "Andel",
caption = "Källa: Hietala (2019)") +
scale_y_continuous(expand = c(0,0),
limits = c(0, 0.15))
p
p <- p + scale_fill_manual(name = "Bilmärke",
values = brewer.pal(n = length(unique(exempeldata$bil)),
name = "Oranges"))
p
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE, fig.height = 2, fig.align = "center", fig.width = 6)
require(ggplot2)
require(grid)
require(gridExtra)
require(RColorBrewer)
require(kableExtra)
source("hietala_theme.R")
# Chunk 2
data(iris)
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- ggplot(iris) + aes(x = Petal.Length) + geom_bar() +
labs(y = "Antal", x = "Bladlängd")
grid.arrange(p1, p2, nrow = 1)
# Chunk 3
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antalet blommor av olika arter", x = "Art")
grid.arrange(p1, p2, nrow = 1)
# Chunk 4
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- p1 + theme(panel.grid.major.y = element_line(color = "black"),
panel.grid.minor.y = element_line(color = "black"))
grid.arrange(p1, p2, nrow = 1)
# Chunk 5
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- p1 + theme(axis.text = element_text(size = 8, color = "black"),
axis.title.y = element_text(angle = 0, vjust = 0.5, size = 9),
axis.title.x = element_text(size = 9))
grid.arrange(p1, p2, nrow = 1)
# Chunk 6
ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art", caption = "Källa: Fisher, R. A. (1936)")
# Chunk 7
require(ggplot2)
# Chunk 8
exempeldata <- read.csv2(file = "732G45_exempeldata.csv")
head(exempeldata, n = 5)
# Chunk 9
theme_set(theme_gray())
# Chunk 10
ggplot(exempeldata)
# Chunk 11
ggplot(exempeldata) + aes(x = bil)
# Chunk 12
ggplot(exempeldata) + aes(x = bil) + geom_bar()
# Chunk 13
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count))))
# Chunk 14
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 15
p <- ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 16
p
# Chunk 17
p + coord_flip()
# Chunk 18
p + scale_y_continuous(labels = scales::percent)
# Chunk 19
p <- p + scale_y_continuous(labels = scales::percent)
p
# Chunk 20
exempeltabell <- as.data.frame(table(exempeldata$bil))
colnames(exempeltabell) <- c("Märke", "Frekvens")
kable(exempeltabell, format = "html", caption = "Fördelning av bilmärken i urvalet") %>%
kable_styling(position = "center", full_width = FALSE)
# Chunk 21
head(exempeltabell)
# Chunk 22
ggplot(exempeltabell) + aes(x = Märke, y = Frekvens) + geom_bar(stat = "identity") + theme_bw()
# Chunk 23
p <- ggplot(exempeldata) + aes(x = bil) +
geom_bar(fill = "dark orange",
color = "black",
aes(y = stat(count/sum(count)))) +
theme_bw()
p
# Chunk 24
p <- p + theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"))
p
# Chunk 25
p <- p + labs(x = "Bilmärke", y = "Andel", caption = "Källa: Hietala (2019)")
p
# Chunk 26
p + scale_y_continuous(labels = scales::percent) + labs(y = "")
# Chunk 27
p <- p + theme(axis.title.y = element_text(angle = 0, vjust = 0.5),
plot.caption = element_text(face = "italic"))
p
# Chunk 28
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10))
# Chunk 29
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.35))
# Chunk 30
p <- p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.25),
expand = c(0,0))
p
# Chunk 31
p <- ggplot(exempeldata) +
aes(x = civilstand, fill = bil) +
geom_bar(position = "dodge") +
theme_bw()
p
# Chunk 32
ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge") +
theme_bw()
# Chunk 33
ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/tapply(count, x, sum)[x])),
position = "dodge") +
theme_bw()
# Chunk 34
p1 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))), position = "dodge") +
theme_bw()
p2 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/tapply(count, x, sum)[x])), position = "dodge") +
theme_bw()
grid.arrange(p1, p2, nrow = 1)
# Chunk 35
p <- ggplot(exempeldata) +
aes(x = civilstand,
fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge",
color = "black") +
theme_bw() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"),
axis.title.y = element_text(angle = 0, vjust = 0.5),
plot.caption = element_text(face = "italic")) +
labs(x = "Civilstånd",
y = "Andel",
caption = "Källa: Hietala (2019)") +
scale_y_continuous(expand = c(0,0),
limits = c(0, 0.15))
p
p <- ggplot(exempeldata) +
aes(x = civilstand, fill = bil) +
geom_bar(position = "dodge") +
theme_bw()
rsconnect::deployDoc(doc = "732G45_Visualisering_Material.Rmd", appName = "732G45_visualisering_material", appTitle = "Material used for the course visualization part of 732G45", forceUpdate = TRUE)
elev <- read.csv2("D1elev.csv", dec = ".")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE, fig.height = 2, fig.align = "center", fig.width = 6)
require(ggplot2)
require(grid)
require(gridExtra)
require(RColorBrewer)
require(kableExtra)
source("hietala_theme.R")
# rsconnect::deployDoc(doc = "Visualization Literature/732G45_Visualisering_Material.Rmd", appName = "732G45_visualisering_material", appTitle = "Material used for the course visualization part of 732G45", forceUpdate = TRUE)
# Chunk 6
data(iris)
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- ggplot(iris) + aes(x = Petal.Length) + geom_bar() +
labs(y = "Antal", x = "Bladlängd")
grid.arrange(p1, p2, nrow = 1)
# Chunk 7
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antalet blommor av olika arter", x = "Art")
grid.arrange(p1, p2, nrow = 1)
# Chunk 8
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- p1 + theme(panel.grid.major.y = element_line(color = "black"),
panel.grid.minor.y = element_line(color = "black"))
grid.arrange(p1, p2, nrow = 1)
# Chunk 9
p1 <- ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art")
p2 <- p1 + theme(axis.text = element_text(size = 8, color = "black"),
axis.title.y = element_text(angle = 0, vjust = 0.5, size = 9),
axis.title.x = element_text(size = 9))
grid.arrange(p1, p2, nrow = 1)
# Chunk 10
ggplot(iris) + aes(x = Species) + geom_bar(width = 0.6) +
labs(y = "Antal", x = "Art", caption = "Källa: Fisher, R. A. (1936)")
# Chunk 11
require(ggplot2)
# Chunk 12
exempeldata <- read.csv2(file = "732G45_exempeldata.csv")
head(exempeldata, n = 5)
# Chunk 13
theme_set(theme_gray())
# Chunk 14
ggplot(exempeldata)
# Chunk 15
ggplot(exempeldata) + aes(x = bil)
# Chunk 16
ggplot(exempeldata) + aes(x = bil) + geom_bar()
# Chunk 17
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count))))
# Chunk 18
ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 19
p <- ggplot(exempeldata) + aes(x = bil) + geom_bar(aes(y = stat(count/sum(count)))) + theme_bw()
# Chunk 20
p
# Chunk 21
p + coord_flip()
# Chunk 22
p + scale_y_continuous(labels = scales::percent)
# Chunk 23
p <- p + scale_y_continuous(labels = scales::percent)
p
# Chunk 24
exempeltabell <- as.data.frame(table(exempeldata$bil))
colnames(exempeltabell) <- c("Märke", "Frekvens")
kable(exempeltabell, format = "html", caption = "Fördelning av bilmärken i urvalet") %>%
kable_styling(position = "center", full_width = FALSE)
# Chunk 25
head(exempeltabell)
# Chunk 26
ggplot(exempeltabell) + aes(x = Märke, y = Frekvens) + geom_bar(stat = "identity") + theme_bw()
# Chunk 27
p <- ggplot(exempeldata) + aes(x = bil) +
geom_bar(fill = "dark orange",
color = "black",
aes(y = stat(count/sum(count)))) +
theme_bw()
p
# Chunk 28
p <- p + theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"))
p
# Chunk 29
p <- p + labs(x = "Bilmärke", y = "Andel", caption = "Källa: Hietala (2019)")
p
# Chunk 30
p + scale_y_continuous(labels = scales::percent) + labs(y = "")
# Chunk 31
p <- p + theme(plot.caption = element_text(face = "italic"),
axis.title.y = element_text(angle = 0, vjust = 0.5, size = 11),
axis.title.x = element_text(size = 11),
axis.text = element_text(size = 10, color = "black"))
p
# Chunk 32
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10))
# Chunk 33
p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.35))
# Chunk 34
p <- p + scale_y_continuous(breaks = seq(from = 0, to = 1, by = .10),
limits = c(0, 0.25),
expand = c(0,0))
p
# Chunk 35
p <- ggplot(exempeldata) +
aes(x = civilstand, fill = bil) +
geom_bar(position = "dodge") +
theme_bw()
p
# Chunk 36
ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge") +
theme_bw()
# Chunk 37
ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/tapply(count, x, sum)[x])),
position = "dodge") +
theme_bw()
# Chunk 38
p1 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/sum(count))), position = "dodge") +
theme_bw()
p2 <- ggplot(exempeldata) + aes(x = civilstand, fill = bil) +
geom_bar(aes(y = stat(count/tapply(count, x, sum)[x])), position = "dodge") +
theme_bw()
grid.arrange(p1, p2, nrow = 1)
# Chunk 39
p <- ggplot(exempeldata) +
aes(x = civilstand,
fill = bil) +
geom_bar(aes(y = stat(count/sum(count))),
position = "dodge",
color = "black") +
theme_bw() +
theme(panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_line(color = "gray70"),
panel.grid.minor.y = element_line(color = "gray80"),
plot.caption = element_text(face = "italic"),
axis.title.y = element_text(angle = 0, vjust = 0.5, size = 11),
axis.title.x = element_text(size = 11),
axis.text = element_text(size = 10, color = "black")) +
labs(x = "Civilstånd",
y = "Andel",
caption = "Källa: Hietala (2019)") +
scale_y_continuous(expand = c(0,0),
breaks = seq(0, 0.20, by = 0.05),
limits = c(0, 0.16))
p
# Chunk 40
p <- p + scale_fill_manual(name = "Bilmärke",
values = brewer.pal(n = 8,
name = "Oranges"))
p
## Laddar in datamaterial
bil <- read.csv2("D1bil.csv", dec = ".")
elev <- read.csv2("D1elev.csv", dec = ".")
View(exempeldata)
p <- p + geom_histogram(fill = "orange",
color = "black",
bins = 10)
p
p <- ggplot(exempeldata) + aes(alder)
p <- p + geom_histogram(fill = "orange",
color = "black",
bins = 10)
p
p <- p + scale_y_continuous(expand = c(0,0), limits = c(0, 20)) +
theme_bw() + theme(axis.title.y =
element_text(angle = 0,
hjust = 1,
vjust = 0.5),
plot.title =
element_text(hjust = 0.5),
panel.grid.major.x =
element_blank(),
panel.grid.minor.x =
element_blank(),
panel.grid.major.y =
element_line(color = "dark gray")) +
labs(y = "Antal",
x = "Ålder",
title = "Fördelning av ålder",
caption = "Källa: Hietala (2019)")
p
source("hietala_theme.R")
p + theme_set(hietala_theme)
source("hietala_theme.R")
p + theme_set(hietala_theme)
source("hietala_theme.R")
p + theme_set(hietala_theme)
p
p <- ggplot(exempeldata) + aes(x = factor(0), y = alder) +
geom_boxplot(fill = "orange") +
scale_x_discrete(breaks = NULL)
p
p <- p + theme_bw() + theme(axis.title.y =
element_text(angle = 0,
hjust = 1,
vjust = 0.5),
plot.title =
element_text(hjust = 0.5),
panel.grid.major.x =
element_blank(),
panel.grid.minor.x =
element_blank(),
panel.grid.major.y =
element_line(color = "dark gray")) +
labs(y = "Ålder",
x = NULL,
title = "Fördelning av ålder",
caption = "Källa: Hietala (2019)")
p
